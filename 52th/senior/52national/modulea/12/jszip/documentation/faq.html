<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Create .zip files using JavaScript. Provides a simple API to place any content generated by JavaScript into a .zip file for your users." />
    <title>Frequently Asked Questions</title>

    <!--
    Any version of jQuery will do (it's just to write some examples), this one
    happens to be available in our tests.
    -->
    <script type="text/javascript" src="../test/jquery-1.8.3.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="../vendor/bootstrap-3.1.1-dist/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="../vendor/bootstrap-3.1.1-dist/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="../vendor/bootstrap-3.1.1-dist/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="../documentation/css/pygments.css">
    <link rel="stylesheet" href="../documentation/css/main.css">

    <script type="text/javascript" src="../dist/jszip.js"></script>

    <script type="text/javascript" src="../vendor/jszip-utils.js"></script>
    <!--
    Mandatory in IE 6, 7, 8 and 9.
    -->
    <!--[if IE]>
    <script type="text/javascript" src="../stuk.github.io/jszip-utils/dist/jszip-utils-ie.js"></script>
    <![endif]-->


    <script type="text/javascript" src="../vendor/FileSaver.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="../index.html"><strong>JS</strong>Zip</a>
          </div>
          <ul class="nav navbar-nav">
            <li >
              <a href="../documentation/api_jszip.html">API</a>
            </li>
            <li >
              <a href="../documentation/examples.html">How to / examples</a>
            </li>
            <li >
              <a href="../documentation/limitations.html">Performances / limitations</a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="https://github.com/Stuk/jszip">JSZip on Github</a>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="row">
        <nav class="col-md-3">
        
        <h4>JSZip users :</h4>
        <ul class="nav">
              <li><a href="../index.html">Installation</a></li>
              <li><a href="../documentation/faq.html">FAQ</a></li>
              <li><a href="../CHANGES.html">Changelog</a></li>
              <li><a href="../documentation/upgrade_guide.html">Upgrade guide</a></li>
              <li><a href="https://github.com/Stuk/jszip/issues">Bug tracker</a></li>
        </ul>
        <h4>JSZip developers :</h4>
        <ul class="nav">
              <li><a href="../documentation/contributing.html">How to contribute</a></li>
              <li><a href="https://github.com/Stuk/jszip/graphs/contributors">Contributors</a></li>
        </ul>
        
        <!-- <ul class="nav"> -->
          <!-- <li><a href="../documentation/faq.html">FAQ</a></li> -->
        <!-- </ul> -->
          <!-- <li><a href="../index.html">installation</a></li> -->
          </nav>
        
        <div class="col-md-9">
          <h1>Frequently Asked Questions</h1>
          <!-- ===================== -->
          <!-- === C O N T E N T === -->
          <!-- ===================== -->

          <h3 id="corrupted-zip-or-bug-unexpected-signature">“Corrupted zip or bug: unexpected signature”</h3>

<p>If you are sure that the zip file is correct, that error often comes from a
corrupted content. An ajax request, if not prepared correctly, will try to
decode the binary content as a text and corrupt it. See
<a href="../documentation/howto/read_zip.html">this page</a>.</p>

<h3 id="my-browser-crashes--becomes-unresponsive--never-finish-the-execution">My browser crashes / becomes unresponsive / never finish the execution</h3>

<p>That happens if you try to handle to much data with the synchronous API. If
possible, try the asynchronous API, see
<a href="../documentation/limitations.html">this page</a> for more information.</p>

<h3 id="cant-read-the-data-of--is-it-in-a-supported-javascript-type-">Can’t read the data of […]. Is it in a supported JavaScript type ?</h3>

<p>Or the old message:</p>

<blockquote>
  <p>The data of […] is in an unsupported format</p>
</blockquote>

<p>The method <a href="../documentation/api_jszip/file_data.html"><code class="language-plaintext highlighter-rouge">file(name, data [,options])</code></a>
accepts string and binary inputs for <code class="language-plaintext highlighter-rouge">data</code>.</p>

<p>If you use an unsupported type, an object for example, you will get this error:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// WRONG</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">content</span><span class="p">:</span> <span class="k">new</span> <span class="nb">ArrayBuffer</span><span class="p">(...)</span>
<span class="p">};</span>
<span class="nx">zip</span><span class="p">.</span><span class="nx">file</span><span class="p">(</span><span class="dl">"</span><span class="s2">my.data</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span> <span class="c1">// won't work, data is an object</span>

<span class="c1">// CORRECT</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">ArrayBuffer</span><span class="p">(...);</span>
<span class="nx">zip</span><span class="p">.</span><span class="nx">file</span><span class="p">(</span><span class="dl">"</span><span class="s2">my.data</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span> <span class="c1">// will work, JSZip accepts ArrayBuffer</span>
</code></pre></div></div>

<h3 id="my-mac-generates-a-cpgz-file-when-i-try-to-extract-the-zip-file">My mac generates a <code class="language-plaintext highlighter-rouge">.cpgz</code> file when I try to extract the zip file</h3>

<p>MacOS Finder has a lot of bug related to zip files (the <code class="language-plaintext highlighter-rouge">unzip</code> command line
tool is fine). When something goes wrong, Finder will generate this cpgz file
instead of showing an error.</p>

<p>To get a correct result, try to enable compression in <code class="language-plaintext highlighter-rouge">generateAsync</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">zip</span><span class="p">.</span><span class="nx">generateAsync</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span><span class="dl">"</span><span class="s2">...</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">compression</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DEFLATE</span><span class="dl">"</span> <span class="c1">// &lt;-- here</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Using <code class="language-plaintext highlighter-rouge">platform: "UNIX"</code> may help too.</p>


          <!-- ===================== -->
          <!-- == / C O N T E N T == -->
          <!-- ===================== -->
        </div>
      </div>
    </div>
    <script>
      // FIXME find how to do that cleanly
      (function(){
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; i++) {
          tables[i].className += " table table-condensed table-striped table-bordered ";
        }
      })();
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52085706-1', 'stuk.github.io');
      ga('send', 'pageview');

    </script>
  </body>
</html>
